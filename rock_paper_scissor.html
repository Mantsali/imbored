<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        body {
            min-height: 100vh;
        }
        
        .options, .results {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
        }
        .options div{
            cursor: pointer;
        }

        table th, table td{
            padding: 15px;
        }
    </style>
</head>
<body>
    <h1>Rock Paper Scissors</h1>

    <div class="options">
        <div class="rock">
<i class="fa-solid fa-hand-back-fist fa-2xl"></i>
        </div>
        <div class="paper">
            <i class="fa-solid fa-hand fa-2xl"></i>
        </div>
        <div class="scissors">
            <i class="fa-solid fa-hand-scissors fa-2xl"></i>
        </div>
    </div>

    <div class="results">

        <Table>
            <thead>
                <tr>
                <th>You</th>
                <th>PC</th>
            </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="player"></td>
                    <td class="pc"></td>
                    
                </tr>
                <tr>
                    <td class="playerText"></td>
                    <td class="pcText"></td>
                    
                </tr>
            </tbody>
        </Table>

       
    </div>

    <h2 class="anouncement"></h2>
    <script>
        /*
        let rock = document.querySelector('.rock');
        let paper = document.querySelector('.paper');
        let scissors = document.querySelector('.scissors');
        */
        const possibleChoices = document.querySelectorAll('.options div');

        const playerBox = document.querySelector('.player');
        const pcBox = document.querySelector('.pc');
        const playerText = document.querySelector('.playerText');
        const pcText = document.querySelector('.pcText');
        const anouncement = document.querySelector('.anouncement');

        const selection = ["rock", "paper", "scissors"];
        let myChoice;

        let pcChoice;


        possibleChoices.forEach(possibleChoice => possibleChoice.addEventListener('click', (e) => {
            switch (e.currentTarget.className){
                case "rock":
                playerBox.innerHTML = '<i class="fa-solid fa-hand-back-fist fa-2xl"></i>';
                
                break;
                case "paper":
                playerBox.innerHTML = '<i class="fa-solid fa-hand fa-2xl"></i>';
               
                break;
                default:
                playerBox.innerHTML = '<i class="fa-solid fa-hand-scissors fa-2xl"></i>';
             
            }
            myChoice = e.currentTarget.className;
            playerText.innerHTML = myChoice;
            pcTurn();
        }));

/*
        rock.addEventListener('click', (e) => {
            playerBox.innerHTML = '<i class="fa-solid fa-hand-back-fist fa-2xl"></i>';
            mySelection(e.currentTarget.className);
        });

        paper.addEventListener('click', (e) => {
            playerBox.innerHTML = '<i class="fa-solid fa-hand fa-2xl"></i>';
            mySelection(e.currentTarget.className);
        });

        scissors.addEventListener('click', (e) => {
            playerBox.innerHTML = '<i class="fa-solid fa-hand-scissors fa-2xl"></i>';
            mySelection(e.currentTarget.className);
        });

        function mySelection(class_name){
            myChoice = class_name;
            playerText.innerText = myChoice;
            pcTurn();
        }
*/
        function pcTurn(){
            
            const results = Math.floor((Math.random() * 3));;

            switch (results){
                case 0:
                pcBox.innerHTML = '<i class="fa-solid fa-hand-back-fist fa-2xl"></i>';
                break;
                case 1:
                pcBox.innerHTML = '<i class="fa-solid fa-hand fa-2xl"></i>';
                break;
                default:
                pcBox.innerHTML = '<i class="fa-solid fa-hand-scissors fa-2xl"></i>';
              
            }

            pcChoice = selection[results];
            pcText.innerHTML = pcChoice;
            checkWinn();
        }

        function checkWinn(){
            if(myChoice === pcChoice)
            {
                anouncement.innerText = "Draw";
            }
            else if((myChoice == selection[0] && pcChoice == selection[2]) || 
                    (myChoice == selection[1] && pcChoice == selection[0]) || 
                    (myChoice == selection[2] && pcChoice == selection[1])){
                anouncement.innerText = "you won";
            }
            else{
                anouncement.innerText = "lost";
            }
            
        }
    </script>
</body>
</html>